---
title: "11ì£¼ì°¨ jQuery/JSP/Spring"
excerpt: "2022-01-03 ~ 2022-01-07"

toc: true
toc_sticky: true
categories:
  - Study
---
<br>
# jQuery
---
ê·¹ë‹¨ì ì¸ ìƒì‚°ì„±, ì ‘ê·¼ì„±ìœ¼ë¡œ HTML ì¡°ì‘ì„ í¸ë¦¬í•˜ê²Œ í•´ì¤Œ<br>
ë‹¤ë§Œ, setterì™€ getterê°€ í•˜ë‚˜ë¡œ í•©ì³ì ¸ ìˆìŒ<br>
<br>
`cf) querySelector : jQueryì™€ ì‚¬ìš©ë²•ì´ ë¹„ìŠ·í•œ JavaScript API`<br>
<br>
$ : jqueryì˜ ì ‘ê·¼ ë©”ì†Œë“œ(DOMì˜ getElement, getElements)<br>
`ex) $(#id), $(.class), $(#id .class)`

```html
<script>
function test1() {
    // jquery ìì²´ classì˜ instanceë¥¼ return(jQuery Obejct)
    // ë°ì½”ë ˆì´ì…˜ íŒ¨í„´(ê²°ê³¼ê°€ ì ìš©ëœ ìì‹ ì„ ë¦¬í„´))
    var j1 = $("#x1");

    // j1ê³¼ j2ëŠ” ê°™ìŒ
    var j2 = j1.css("color", "red");
    var j3 = j2.text("jQuery");		// == j1.text("111111");
    
    j3.css("backgroundColor", "blue");
}

// test1()ì„ í•œ ì¤„ë¡œ ì‘ì„± ê°€ëŠ¥
function test2() {
    // $()ì˜ ë¦¬í„´ê°’ì€ ë°°ì—´ì´ ì•„ë‹˜ -> forë¬¸ ì‚¬ìš©X
    $("#x2").css("color","red").css("backgroundColor","blue").text("jQuery");
}
</script>
```

ê²°ê³¼>

<html>
    <head>
        <meta charset="utf-8">
        <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.6.0/jquery.min.js"></script>
        <script>
            function test1() {
                var j1 = $("#x1");

                var j2 = j1.css("color", "red");
                var j3 = j2.text("jQuery");
                j3.css("backgroundColor", "blue");
            }

            function test2() {
                $("#x2").css("color","red").css("backgroundColor","blue").text("jQuery");
            }
        </script>
    </head>
    <body>
        <div id="x1">ì•ˆë…•í•˜ì„¸ìš”.</div>
        <div id="x2">ì•ˆë…•í•˜ì„¸ìš”.</div>
        
        <button onclick="test1()">test1 í•¨ìˆ˜</button>
        <button onclick="test2()">test2 í•¨ìˆ˜</button>
    </body>
</html>

<br><br>
**jQueryëŠ” set, getì´ ê°™ì€ í•¨ìˆ˜**

```html
<script>
function test3() {
    // í…ìŠ¤íŠ¸
    // setì¼ ë•ŒëŠ” jquery objectë¥¼ return
    $("#x3").text("ë°˜ê°‘ìŠµë‹ˆë‹¤..!!");    // setterë¡œ ì‚¬ìš©(ê°’ì„ ë„£ìŒ)

    // getì¼ ë•ŒëŠ” ê°’ì„ return
    var value = $("#x3").text();    // getterë¡œ ì‚¬ìš©(ê°’ì„ ì•ˆ ë„£ìŒ)
    alert(value);	// ë°˜ê°‘ìŠµë‹ˆë‹¤..!!
}

function test4() {
    // ìŠ¤íƒ€ì¼
    $("#x4").css("color", "red").css("font-size","3em");    // set
    var color = $("#x4").css("color");  // get(keyë§Œ ë„£ìœ¼ë©´ valueë¥¼ return ë°›ìŒ)
    alert(color);	// rgb(255, 0, 0)
}
</script>
```

ê²°ê³¼>

<html>
    <head>
        <meta charset="utf-8">
        <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.6.0/jquery.min.js"></script>
        <script>
            function test3() {
                $("#x3").text("ë°˜ê°‘ìŠµë‹ˆë‹¤..!!"); 

                var value = $("#x3").text();
                alert(value);
            }

            function test4() {
                $("#x4").css("color", "red").css("font-size","3em");
                var color = $("#x4").css("color");
                 alert(color);
            }
        </script>
    </head>
    <body>
        <div id="x3">ì•ˆë…•í•˜ì„¸ìš”</div>
        <div id="x4">ì•ˆë…•í•˜ì„¸ìš”</div>

        <button onclick="test3()">test3 í•¨ìˆ˜</button>
        <button onclick="test4()">test4 í•¨ìˆ˜</button>
    </body>
</html>

<br><br>

**cssì˜ ê°’ìœ¼ë¡œ json ê°ì²´ ë„£ì„ ìˆ˜ ìˆìŒ**

```html
<script>
function test5() {
    $("#x5").css({
        "color": "red",
        "fontSize": "3em",
        "backgroundColor": "blue"})
    .text("í•˜í•˜í•˜í•˜í•˜");
}
</script>
```

ê²°ê³¼>

<html>
    <head>
        <meta charset="utf-8">
        <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.6.0/jquery.min.js"></script>
        <script>
            function test5() {
                $("#x5").css({
                    "color": "red",
                    "fontSize": "3em",
                    "backgroundColor": "blue"})
                .text("í•˜í•˜í•˜í•˜í•˜");
            }
        </script>
    </head>
    <body>
        <div id="x5">ì•ˆë…•í•˜ì„¸ìš”</div>
        <button onclick="test5()">test5 í•¨ìˆ˜</button>
    </body>
</html>

<br><br>

**ì†ì„± ì„¤ì •ê³¼ í´ë˜ìŠ¤ ì¶”ê°€**

```html
<script>
function test6() {
    // ì†ì„±(attribute)
    $("#x7").attr("class", "bigFont");	// set

    var value = $("#x7").attr("class"); // get
    alert(value);   //bigFont
}

function test7_1() {
    // í´ë˜ìŠ¤ ì†ì„± ì»¨íŠ¸ë¡¤

    // attr : í•´ë‹¹ ì†ì„±ì˜ ê°’ì„ í•­ìƒ í†µì§¸ë¡œ ì§€ì •í•´ ì¤˜ì•¼í•¨(reset í›„ set)
    // addClass : ê¸°ì¡´ class ì†ì„± ê°’ì„ ìœ ì§€í•˜ë©° ìƒˆë¡œìš´ classë¥¼ ì¶”ê°€
    $("#x7").addClass("bgColor");
}

function test7_2() {
    // í•´ë‹¹ class ì†ì„± ê°’ í•´ì œ
    $("#x7").removeClass("bigFont");
}

function test7_3() {
    // class ì†ì„±ì— í•´ë‹¹ ê°’ì´ ìˆìœ¼ë©´ ì§€ìš°ê³  ì—†ìœ¼ë©´ ì¶”ê°€
    $("#x7").toggleClass("bgColor");
}
</script>
<style>
    .bgColor {
        background-color: cadetblue;
    }

    .bigFont{
        font-size: 3em;
        color: blueviolet;
    }
</style>
```

ê²°ê³¼>

<html>
    <head>
        <meta charset="utf-8">
        <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.6.0/jquery.min.js"></script>
        <script>
            function test6() {
                $("#x7").attr("class", "bigFont");

                var value = $("#x7").attr("class");
                alert(value);
            }

            function test7_1() {
                $("#x7").addClass("bgColor");
            }

            function test7_2() {
                $("#x7").removeClass("bigFont");
            }

            function test7_3() {
                $("#x7").toggleClass("bgColor");
            }
        </script>
        <style>
            .bgColor {
                background-color: cadetblue;
            }

            .bigFont{
                font-size: 3em;
                color: blueviolet;
            }
        </style>
    </head>
    <body>
        <div id="x7">ì•ˆë…•í•˜ì„¸ìš”</div>

        <button onclick="test6()">test6 í•¨ìˆ˜</button>
        <button onclick="test7_1()">test7_1 í•¨ìˆ˜</button>
        <button onclick="test7_2()">test7_2 í•¨ìˆ˜</button>
        <button onclick="test7_3()">test7_3 í•¨ìˆ˜</button>
    </body>
</html>

<br><br>

**ì—˜ë¦¬ë¨¼íŠ¸ ìƒì„±ê³¼ ì‚½ì…/ì‚­ì œ**

```html
<script>
function test8() {
    //createElement
    var temp = $("<p></p>").text("ë°˜ê°‘ìŠµë‹ˆë‹¤");    /* $("<p>ë°˜ê°‘ìŠµë‹ˆë‹¤</p>") ì™€ ë™ì¼ */

    $("#x8").append(temp);  // id x8ì˜ ìì‹ìœ¼ë¡œ append
}

function test9() {
    // ì—˜ë¦¬ë¨¼íŠ¸ ì‚­ì œ
    $("#x8").remove();
}
</script>
```

ê²°ê³¼>

<html>
    <head>
        <meta charset="utf-8">
        <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.6.0/jquery.min.js"></script>
        <script>
            function test8() {
                var temp = $("<p></p>").text("ë°˜ê°‘ìŠµë‹ˆë‹¤");
                $("#x8").append(temp);
            }

            function test9() {
                $("#x8").remove();
            }
        </script>
    </head>
    <body>
        <div id="x8">ì•ˆë…•í•˜ì„¸ìš”</div>

        <button onclick="test8()">test8 í•¨ìˆ˜</button>
        <button onclick="test9()">test9 í•¨ìˆ˜</button>
    </body>
</html>

<br>
<br><br>

# WAS
---
HTTP : HTML ë¬¸ì„œì™€ ê°™ì€ í•˜ì´í¼í…ìŠ¤íŠ¸ë¥¼ ë¹ ë¥´ê²Œ êµí™˜í•˜ê¸° ìœ„í•œ í”„ë¡œí† ì½œ<br>
HTTP ë©”ì‹œì§€ : ì„œë²„ì™€ í´ë¼ì´ì–¸íŠ¸ ê°„ ë°ì´í„°ê°€ êµí™˜ë˜ëŠ” ë°©ì‹ìœ¼ë¡œ **ìš”ì²­ê³¼ ì‘ë‹µ**ì´ ìˆìŒ<br>
<br>
Web Server : HTTPë¥¼ í†µí•´ clientì˜ ìš”ì²­(request)ì— ì •ì ê°ì²´ë¡œ ì‘ë‹µ(response)<br>
**WAS(Web Applicaton Server) :** clientì˜ ìš”ì²­(request)ì— ë™ì ê°ì²´ë¡œ ì‘ë‹µ(response), ëŒ€í‘œì ìœ¼ë¡œ Tomcat<br>
<br>

<center><img src="https://user-images.githubusercontent.com/57750308/148632342-6d3ac089-0042-45df-b222-737197701250.png"></center>

> clientê°€ ìš”ì²­ì„ í•˜ë©´ serverëŠ” ìš”ì²­ì„ ì²˜ë¦¬í•œ í›„ ê²°ê³¼ë¥¼ HTML ì½”ë“œë¡œ clientì— ì‘ë‹µ<br>
> ì›¹ë¸Œë¼ìš°ì €ëŠ” ì‘ë‹µë°›ì€ HTML ì½”ë“œë¥¼ ë Œë”ë§í•˜ì—¬ í™”ë©´ êµ¬í˜„í•¨<br>

> ì •ì ê°ì²´ëŠ” í•­ìƒ ê°™ì€ HTML ì½”ë“œ<br>
> ë™ì ê°ì²´ëŠ” ìš”ì²­í•˜ëŠ” ë•Œì— ë”°ë¼ ë‹¤ë¥¸ HTML ì½”ë“œ<br>
>> => ì‚¬ìš©ìê°€ ìš”ì²­í•œ ì‹œì ì— í˜ì´ì§€ë¥¼ ìƒì„±í•˜ì—¬ ì „ë‹¬ `(ex. SNS, ì»¤ë®¤ë‹ˆí‹° ì‚¬ì´íŠ¸)`<br>

<br>
**Servlet :** clientì˜ ìš”ì²­ì„ ì²˜ë¦¬í•˜ê³  ê·¸ ê²°ê³¼(ë™ì  í˜ì´ì§€)ë¥¼ ë°˜í™˜í•˜ëŠ” Servlet í´ë˜ìŠ¤ì˜ êµ¬í˜„ ê·œì¹™ì„ ì§€í‚¨ ìë°” ì›¹ í”„ë¡œê·¸ë˜ë° ê¸°ìˆ <br>
<br>
Container : ë™ì ì¸ ë°ì´í„°ë“¤ì„ ê°€ê³µí•˜ì—¬ ì •ì ì¸ íŒŒì¼ë¡œ ë§Œë“¤ì–´ ì£¼ëŠ” ëª¨ë“ˆ<br><br>
Servlet Container : ì„œë¸”ë¦¿ë“¤ì„ ê´€ë¦¬, clientì˜ ìš”ì²­ì„ ë°›ì•„ì£¼ê³  ì‘ë‹µí•  ìˆ˜ ìˆê²Œ ì›¹ì„œë²„ì™€ ì†Œì¼“ í†µì‹ . **Tomcat**ì˜ ì—­í• <br>
<br>
<br>
**Servlet ì‘ì„± ì˜ˆì œ(java)**

```java
import java.io.IOException;
import java.io.PrintWriter;

import javax.servlet.ServletException;
import javax.servlet.annotation.WebServlet;
import javax.servlet.http.HttpServlet;
import javax.servlet.http.HttpServletRequest;
import javax.servlet.http.HttpServletResponse;

/**
 * Servlet implementation class Test
 */

// URLì— í”„ë¡œì íŠ¸ê²½ë¡œ/Testë¡œ ìš”ì²­ì‹œ í•´ë‹¹ ì„œë¸”ë¦¿ì´ ë§µí•‘ë˜ì–´ ì‹¤í–‰
@WebServlet("/Test")
public class Test extends HttpServlet {
	private static final long serialVersionUID = 1L;
       
    /**
     * @see HttpServlet#HttpServlet()
     */
    public Test() {
        super();
    }

	/**
	 * @see HttpServlet#doGet(HttpServletRequest request, HttpServletResponse response)
	 */

	// clientê°€ getìœ¼ë¡œ ìš”ì²­í–ˆì„ ë•Œ ì‹¤í–‰ë˜ëŠ” ë©”ì†Œë“œ
	protected void doGet(HttpServletRequest request, HttpServletResponse response) throws ServletException, IOException {
		
		// ì›¹ì„œë²„ë¡œ ì‘ë‹µì„ íƒ€ê³  í”„ë¦°íŠ¸
		PrintWriter out = response.getWriter();
		out.println("<html>");
		out.println("<head>");
		out.println("<meta charset='utf-8'>");
		out.println("</head>");
		out.println("<body>");
		
		// ìš”ì²­í•  ë•Œë§ˆë‹¤ randomí•œ íšŸìˆ˜ë¡œ hello~!! ì¶œë ¥ë¨(ë™ì HTML)
		int a = (int)(Math.random()*10)+1;
		
		for (int i=1;i<=a;i++) {
			out.println("hello~!!");
		}
		
		out.println("</body>");
		out.println("</html>");
	}

	/**
	 * @see HttpServlet#doPost(HttpServletRequest request, HttpServletResponse response)
	 */
	protected void doPost(HttpServletRequest request, HttpServletResponse response) throws ServletException, IOException {
		doGet(request, response);
	}
}
```

ì‘ë‹µë°›ì€ HTML ì½”ë“œ>

<center><img src="https://user-images.githubusercontent.com/57750308/148633246-cd6f0801-e664-4c86-9f33-dca98f8e3f8f.png">
<img src="https://user-images.githubusercontent.com/57750308/148633253-331841cd-99ab-40e5-a8eb-bde1930802d2.png">
<img src="https://user-images.githubusercontent.com/57750308/148633260-5033fde5-3013-4e91-bf47-dce8a0733611.png"></center>

=> ë§¤ ìš”ì²­ë§ˆë‹¤ hello~!!ê°€ ì¶œë ¥ë˜ëŠ” íšŸìˆ˜ê°€ ë‹¤ë¦„

<br><br>
**ìš”ì²­ ì²˜ë¦¬ê³¼ì •**<br>
1. ì‚¬ìš©ì(client)ê°€ ì›¹ë¸Œë¼ìš°ì €ì— URLì„ ì…ë ¥(ìš”ì²­)
2. HTTP Requestê°€ Servlet Container(Tomcat)ë¡œ ì „ì†¡ë¨
3. Servlet ContainerëŠ” HttpServletRequest, HttpServletResponse ê°ì²´ë¥¼ ìƒì„±
4. web.xmlì„ ê¸°ë°˜ìœ¼ë¡œ ì‚¬ìš©ìê°€ ìš”ì²­í•œ URLì´ ì–´ëŠ servletì— ëŒ€í•œ ìš”ì²­ì¸ì§€ ì„œì¹˜
5. í•´ë‹¹ servletì—ì„œ service() ë©”ì†Œë“œë¥¼ í˜¸ì¶œí•œ ë’¤ ìš”ì²­ì˜ GET/POST ì—¬ë¶€ì— ë”°ë¼ doGet()/doPost() í˜¸ì¶œ
6. ì´ ë•Œ HttpServletRequest, HttpServletResponse ê°ì²´ì— ì˜í•´ request, response ê°ì²´ê°€ ì„œë¸”ë¦¿ì— ì œê³µë¨
7. doGet() í˜¹ì€ doPost() ë©”ì†Œë“œëŠ” ìš”ì²­ì„ ì²˜ë¦¬í•˜ì—¬ ë™ì  í˜ì´ì§€ ìƒì„± í›„ HttpServletResponse ê°ì²´ì— ì‘ë‹µ ë³´ëƒ„
8. clientì— ë™ì  í˜ì´ì§€ë¥¼ ì‘ë‹µí•œ ë’¤ ì‘ë‹µì´ ëë‚˜ë©´ HttpServletRequest, HttpServletResponse ê°ì²´ ì†Œë©¸

<br>
<br>
## MVC(Model View Controller)
ìš”ì²­ì„ ì²˜ë¦¬í•˜ê¸° ìœ„í•œ ë¡œì§ê³¼ ê²°ê³¼ë¥¼ ë‹´ì•„ í™”ë©´ìœ¼ë¡œ êµ¬í˜„í•˜ëŠ” HTML ì½”ë“œë¥¼ í•œ ê³³ì— ì‘ì„±í•˜ëŠ” ê²ƒì€ ë¹„íš¨ìœ¨ì <br>
=> **MVC(Model View Controller)** ì‚¬ìš©<br>
<br>
* **Model**
  * ì½”ì–´ë¡œì§(ë¹„ì¦ˆë‹ˆìŠ¤ ë¡œì§)
  * java ì½”ë“œë¡œ ì‘ì„±
* **View**
  * í™”ë©´ì²˜ë¦¬
  * jspë¡œ ì‘ì„±
* **Controller**
  * ëª¨ë¸ê³¼ ë·° ì‚¬ì´ì—ì„œ ì¤‘ì¬
  * requestë¥¼ ë°›ì€ ë’¤ ìš”ì²­ì— ë”°ë¼ Modelì„ ì„ íƒí•˜ì—¬ ì‹¤í–‰
  * ë¦¬í„´ë°›ì€ ê²°ê³¼ë¥¼ ì ì ˆí•œ Viewì— ì „ë‹¬
  * Servletì´ ì»¨íŠ¸ë¡¤ëŸ¬ë¡œ ì´ìš©ë¨

<br>
**GetMemberList.java - suvlet, controller**ğŸ‘‡

```java
import java.io.IOException;
import java.util.ArrayList;

import javax.servlet.ServletException;
import javax.servlet.annotation.WebServlet;
import javax.servlet.http.HttpServlet;
import javax.servlet.http.HttpServletRequest;
import javax.servlet.http.HttpServletResponse;

/**
 * Servlet implementation class GetMemberList
 */
@WebServlet("/GetMemberList")
public class GetMemberList extends HttpServlet {
	private static final long serialVersionUID = 1L;
       
    /**
     * @see HttpServlet#HttpServlet()
     */
    public GetMemberList() {
        super();
    }

	/**
	 * @see HttpServlet#doGet(HttpServletRequest request, HttpServletResponse response)
	 */
	protected void doGet(HttpServletRequest request, HttpServletResponse response) throws ServletException, IOException {
		// ì½”ì–´ ë¡œì§ ìë°”ë¡œ ìˆ˜í–‰ í›„
		ArrayList<String> memberList= new MemberService().getMemberList();
		
		request.setAttribute("qwer", memberList);
		
		request.getRequestDispatcher("/WEB-INF/views/GetMemberList.jsp").forward(request, response);
	}

	/**
	 * @see HttpServlet#doPost(HttpServletRequest request, HttpServletResponse response)
	 */
	protected void doPost(HttpServletRequest request, HttpServletResponse response) throws ServletException, IOException {
		doGet(request, response);
	}
}
```

**MemberService.java - model tier**ğŸ‘‡

```java
import java.util.ArrayList;

public class MemberService {
	public ArrayList<String> getMemberList() {
		ArrayList<String> memberList = new ArrayList<>();
		memberList.add("í•œì¡°");
		memberList.add("ë©”ë¥´ì‹œ");
		memberList.add("í‹°ëª¨");
		memberList.add("íŠ¸ë ˆì´ì„œ");
		
		return memberList;
	}
}
```

**/WEB-INF/views/GetMemberList.jsp - view**ğŸ‘‡

```jsp
<%@ page language="java" contentType="text/html; charset=UTF-8"
    pageEncoding="UTF-8"%>
<%@ taglib prefix="c" uri="http://java.sun.com/jsp/jstl/core"%>
<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>Insert title here</title>
</head>
<body>
	íšŒì› ë¦¬ìŠ¤íŠ¸ : 
	<c:forEach items="${qwer }" var="memberName">
		${memberName } 
	</c:forEach>

</body>
</html>
```

ê²°ê³¼>
<body>
	íšŒì› ë¦¬ìŠ¤íŠ¸ : í•œì¡° ë©”ë¥´ì‹œ í‹°ëª¨ íŠ¸ë ˆì´ì„œ
</body>

<br>
<br><br>

## web.xml
í†°ìº£ì´ ê°€ë™ë˜ê³  í”„ë¡œì íŠ¸ ì‹¤í–‰í•˜ë©´ì„œ ê°€ì¥ ë¨¼ì € ì½ëŠ” íŒŒì¼<br>
<br>
xmlíŒŒì¼ì€ ì„¤ì •íŒŒì¼ ë˜ëŠ” ë°ì´í„° ì „ì†¡ìš©ìœ¼ë¡œ ì‚¬ìš©ë¨<br>
xmlíŒŒì¼ì˜ íƒœê·¸ëª…ì€ ì •ì˜ëœ í˜•íƒœê°€ ì—†ìŒ(í”„ë¡œê·¸ë¨ ë§Œë“œëŠ” ì‚¬ëŒì´ ì •ì˜)<br>
=> Tomcatì† xmlíŒŒì¼ì€ í”„ë¡œì íŠ¸ ì„¤ì • íŒŒì¼<br>
<br>
`ex) ì„¸ì…˜ ì„¤ì •(ìœ ì§€ì‹œê°„ 5ë¶„)`<br>
`<session-config>`<br>
ã€€ã€€ã€€`<session-timeout>5</session-timeout>`<br>
`</session-config>`<br>
<br><br>

**í´ë˜ìŠ¤ëŠ” ì„ ì–¸ë§Œìœ¼ë¡œ ì‹¤í–‰ì´ ì•ˆë¨**<br><br>
=> newë¡œ ì¸ìŠ¤í„´ìŠ¤ë¥¼ ìƒì„±í•´ì•¼ ì‹¤í–‰ì´ ê°€ëŠ¥<br>
=> Tomcatì— ì¸ìŠ¤í„´ìŠ¤ ìƒì„±ì„ ì•Œë ¤ì•¼í•¨<br>
<br>
1. Annotationìœ¼ë¡œ ì„¤ì •
  - eclipseì—ì„œ servlet ìƒì„±í•˜ë©´ ìë™ìœ¼ë¡œ ì¶”ê°€
  - `@WebServlet("/GetMemberList")`
  - ì¥ì  : ê°„ê²°í•˜ê³  í¸í•˜ë‹¤
  - ë‹¨ì  : ì„¤ì •ì´ ìë°”ì†ŒìŠ¤ì½”ë“œì— ë“¤ì–´ê°„ë‹¤
  - ì„œë¸”ë¦¿ì´ ì—¬ëŸ¬ê°œì¼ ê²½ìš° ìë°”ì†ŒìŠ¤ì½”ë“œë§ˆë‹¤ ë”°ë¡œ ì§€ì •í•´ì•¼í•¨, ìœ ì§€ë³´ìˆ˜ ë¶ˆí¸
2. web.xmlë¡œ ì„¤ì •
  - ì¥ì  : í° ì„¤ì •ì€ í•˜ë‚˜ë¡œ ëª¨ì•„ì„œ í•  ìˆ˜ ìˆìŒ
  - ë‹¨ì  : ê°„ê²°í•˜ì§€ ì•Šë‹¤

```xml
<?xml version="1.0" encoding="UTF-8"?>
<web-app xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns="http://xmlns.jcp.org/xml/ns/javaee" xsi:schemaLocation="http://xmlns.jcp.org/xml/ns/javaee http://xmlns.jcp.org/xml/ns/javaee/web-app_4_0.xsd" id="WebApp_ID" version="4.0">
  <display-name>project</display-name>
  <welcome-file-list>
    <welcome-file>index.html</welcome-file>
    <welcome-file>index.htm</welcome-file>
    <welcome-file>index.jsp</welcome-file>
    <welcome-file>default.html</welcome-file>
    <welcome-file>default.htm</welcome-file>
    <welcome-file>default.jsp</welcome-file>
  </welcome-file-list>
  
  <!-- í”„ë¡œì íŠ¸ ì„¤ì • -->
  
  <session-config>
  	<session-timeout>5</session-timeout>
  </session-config>
  
  <!-- íŒ¨í‚¤ì§€ëª….í´ë˜ìŠ¤ëª…ìœ¼ë¡œ ì„œë¸”ë¦¿ ë“±ë¡ -->
  <servlet>
  	<servlet-name>qwer</servlet-name>
  	<servlet-class>package1.GetMemberList</servlet-class>
  </servlet>
  
  <!-- ì„œë¸”ë¦¿ì„ ì–¸ì œ ì‹¤í–‰í•  ê²ƒì¸ì§€ ë§µí•‘ -->  
  <!-- URLì´ project/memberì¼ ê²½ìš° servlet-nameì´ qwerì¸ ì„œë¸”ë¦¿ ì‹¤í–‰ -->
  <servlet-mapping>
  	<servlet-name>qwer</servlet-name>
  	<url-pattern>/member</url-pattern>
  </servlet-mapping>
  
</web-app>
```

=> url-patternì„ /ë¡œ í•˜ë©´ í”„ë¡œì íŠ¸ëª…/ ë’¤ì— ì–´ë–¤ urlì„ ì…ë ¥í•˜ë˜ í•´ë‹¹ ì„œë¸”ë¦¿ ì‹¤í–‰ë¨<br>
<br><br>

**MVCëª¨ë¸ì—ì„œ / ë¡œ ì„¤ì •í•˜ì—¬ í•˜ë‚˜ì˜ ì„œë¸”ë¦¿ìœ¼ë¡œ ëª¨ë“  requestë¥¼ ë°›ì€ ë’¤ ë¶„ë°°**

```java
protected void doGet(HttpServletRequest request, HttpServletResponse response) throws ServletException, IOException {

	// í˜¸ì¶œëœ uri ì¶”ì¶œ(/í”„ë¡œì íŠ¸ëª…/ìš”ì²­url)
	String command = request.getRequestURI();
		
	if(command.equals("/í”„ë¡œì íŠ¸ëª…/GetMemberList")) {
		// ë©¤ë²„ë¦¬ìŠ¤íŠ¸ ê°€ì ¸ì˜¤ëŠ” ì„œë¹„ìŠ¤(ì½”ì–´ë¡œì§) í˜¸ì¶œ
	}else if(command.equals("/í”„ë¡œì íŠ¸ëª…/loginPage")) {
		// ë¡œê·¸ì¸ ê´€ë ¨ ì„œë¹„ìŠ¤ í˜¸ì¶œ
	} 		
	
	...ì¶”ê°€ ë¡œì§ë“¤
}
```

<br>
<br><br>

## Filter
requestê°€ ë“¤ì–´ì˜¤ë©´ ë¨¼ì € filterë¥¼ ê±°ì³ servletìœ¼ë¡œ ê°<br>
Springì˜ interceptì™€ ë¹„ìŠ·<br>
<br>
`@WebFilter("/*")` => ëª¨ë“  ìš”ì²­ì´ ë‹¤ filterë¥¼ ê±°ì¹¨<br>
`doFilter()` : filterë¥¼ ê±°ì¹  ë•Œ ì‹¤í–‰ë˜ëŠ” ë©”ì†Œë“œ<br>
<br><br>

**ëª¨ë“  requestì˜ ìºë¦­ì…‹ì„ UTF-8ë¡œ ì„¤ì •í•˜ëŠ” filter**

```java
package a.a.a;

import java.io.IOException;
import javax.servlet.Filter;
import javax.servlet.FilterChain;
import javax.servlet.FilterConfig;
import javax.servlet.ServletException;
import javax.servlet.ServletRequest;
import javax.servlet.ServletResponse;
import javax.servlet.annotation.WebFilter;

/**
 * Servlet Filter implementation class TestFilter
 */
@WebFilter("/*")
public class TestFilter implements Filter {

    /**
     * Default constructor. 
     */
    public TestFilter() {    }

	/**
	 * @see Filter#destroy()
	 */
	public void destroy() {	}

	/**
	 * @see Filter#doFilter(ServletRequest, ServletResponse, FilterChain)
	 */
	public void doFilter(ServletRequest request, ServletResponse response, FilterChain chain) throws IOException, ServletException {
		// place your code here

		request.setCharacterEncoding("UTF-8");
		System.out.println("í•„í„° í˜¸ì¶œë¨..");
		
		// pass the request along the filter chain
		chain.doFilter(request, response);
	}

	/**
	 * @see Filter#init(FilterConfig)
	 */
	public void init(FilterConfig fConfig) throws ServletException {	}
}
```

<br>
> ì¸ì¦í•„í„° : ë¡œê·¸ì¸í•œ ì‚¬ëŒë§Œ ì‚¬ìš©í•  ìˆ˜ ìˆë„ë¡ ë°©í™”ë²½ì²˜ëŸ¼ í•„í„°ë¥¼ ì„¸ì›€

<br><br>

## Listener
ì–´ë–¤ ì´ë²¤íŠ¸ê°€ ë°œìƒí–ˆì„ ë•Œ ì‹¤í–‰ë˜ëŠ” ê°ì²´<br>
ë¦¬ìŠ¤ë„ˆë¥¼ ìƒì„±í•  ë•Œ ì²´í¬í•œ ì´ë²¤íŠ¸ì— ë”°ë¼ ì‹¤í–‰ë¨<br>
<br><br>
`servlet context(í†°ìº£ ì „ì²´)ì˜ lifecycle ì´ë²¤íŠ¸ ì„ íƒí•œ ë¦¬ìŠ¤ë„ˆ`

```java
import javax.servlet.ServletContextEvent;
import javax.servlet.ServletContextListener;
import javax.servlet.annotation.WebListener;

/**
 * Application Lifecycle Listener implementation class TestListener
 *
 */
@WebListener
public class TestListener implements ServletContextListener {

    /**
     * Default constructor. 
     */
    public TestListener() {    }

	/**
     * @see ServletContextListener#contextDestroyed(ServletContextEvent)
     */
    public void contextDestroyed(ServletContextEvent sce)  { 
    	// í†°ìº£ ì†Œë©¸ í›„ ìµœì´ˆ 1íšŒ ì‹¤í–‰
    	System.out.println("ì•¼í˜¸2");
    }

	/**
     * @see ServletContextListener#contextInitialized(ServletContextEvent)
     */
    public void contextInitialized(ServletContextEvent sce)  { 
    	// í†°ìº£ ì´ˆê¸°í™” í›„ ìµœì´ˆ 1íšŒ ì‹¤í–‰
    	System.out.println("ì•¼í˜¸1");
    }	
}
```

<br>
<br><br>



# JSP
---
HTMLë‚´ì— ìë°” ì½”ë“œë¥¼ ì‚½ì…í•˜ì—¬ ì›¹ ì„œë²„ì—ì„œ ë™ì  ì›¹ í˜ì´ì§€ë¥¼ ìƒì„±í•˜ëŠ” ì›¹ ì–´í”Œë¦¬ì¼€ì´ì…˜ ë„êµ¬

```jsp
<%@ page language="java" contentType="text/html; charset=UTF-8"
    pageEncoding="UTF-8"%>
<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>Insert title here</title>
<script type="text/javascript">
	// ì—¬ê¸°ëŠ” javascript ì‘ì„±
	var a = 10;
	var b = 20;
	var c = a+b;
	alert(c);
</script>
</head>
<body>
	ì•ˆë…•í•˜ì„¸ìš”
	<%
		// scriptlet(ì—¬ê¸°ëŠ” java ì½”ë“œ ì‘ì„±)
		int q = (int)(Math.random()*10)+1;
		
		for(int i=1;i<=q;i++) {
			out.println("ë°˜ê°‘ìŠµë‹ˆë‹¤.");
		}
	%>
</body>
</html>
```

ì‘ë‹µ ë°›ì€ HTML ì½”ë“œ>

<img src="https://user-images.githubusercontent.com/57750308/148633433-fd720ae3-f7ad-4c43-b024-f9f5573155e0.png">

=> ìš”ì²­í•  ë•Œë§ˆë‹¤ ëœë¤í•œ íšŸìˆ˜ë¡œ ë°˜ê°‘ìŠµë‹ˆë‹¤ ì¶œë ¥

<br><br>
**JSP ì‹¤í–‰ ê³¼ì •**<br><br>
ìš©ë„ : ìë°”ì½”ë“œë¡œ ë³€í™˜í•˜ê¸° ìœ„í•œ ë¬¸ë²•(servlet ì½”ë“œë¡œ ë³€í™˜ => JSPë„ servlet)<br>

1. .jsp ì½”ë“œ ì‘ì„±
2. clientì—ì„œ jsp íŒŒì¼ request
3. Tomcatì´ í•´ë‹¹ jsp íŒŒì¼ ë¡œë“œí•˜ì—¬ .java íŒŒì¼ë¡œ ë³€í™˜(servlet ì½”ë“œë¡œ ë³€í™˜)
4. ì»´íŒŒì¼í•˜ì—¬ .class íŒŒì¼ ìƒì„± í›„ ì‹¤í–‰
5. HTML ì½”ë“œë¥¼ ë™ì ìœ¼ë¡œ ìƒì„± -> clientì— response

<br><br>

## íŒŒë¼ë¯¸í„° ì „ë‹¬
<br>
**clientê°€ ì§ì ‘ URLì„ ì‚¬ìš©í•˜ì—¬ ì „ë‹¬**
* url ëì— urlì˜ ëì„ ì•Œë¦¬ëŠ” ë§ˆí¬ ? ë¥¼ ë¶™ì¸ ë’¤ `key=value` í˜•íƒœë¡œ ì „ë‹¬
  * valueëŠ” ë¬´ì¡°ê±´ string íƒ€ì…
  * `ex) http://localhost:8080/project/param.jsp?v1=value1`
* ?ëŠ” ì¿¼ë¦¬ìŠ¤íŠ¸ë§ì˜ ì‹œì‘ì„ ì•Œë¦¼
* íŒŒë¼ë¯¸í„°ë¥¼ ì—¬ëŸ¬ê°œ ì „ë‹¬í•  ê²½ìš° &ë¡œ ì—°ê²°
  * `ex) http://localhost:8080/project/param.jsp?v1=value1&v2=value2`
* ì „ë‹¬ëœ íŒŒë¼ë¯¸í„°ëŠ” ì„œë²„ì—ì„œ request.getParameter("key1"); ìœ¼ë¡œ ë°›ìŒ
  * ì „ë‹¬ë°›ì€ ê°’ì´ ì—†ìœ¼ë©´ null

<br>
**Client Request :** `http://localhost:8080/project/param.jsp?v1=hi&v2=hello`

```jsp
<%@ page language="java" contentType="text/html; charset=UTF-8"
    pageEncoding="UTF-8"%>
    
<%
	// í¸ì˜ìƒ jspì— java ì½”ë“œ ì‘ì„±
	request.setCharacterEncoding("utf-8");
	String v1 = request.getParameter("v1");	// return type String
	System.out.println("v1 : " + v1);	// hi

	String v2 = request.getParameter("v2");!
	System.out.println("v2 : " + v2);	// hello
%>
<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>Insert title here</title>
</head>
<body>
í…ŒìŠ¤íŠ¸
</body>
</html>
```

<br><br>
**ë‹¤ë¥¸ í˜ì´ì§€ë¡œ íŒŒë¼ë¯¸í„° ì „ë‹¬**
* íŒŒë¼ë¯¸í„°ê°€ í™•ì •ì ì¸ ê²½ìš°(URL ì‚¬ìš©)
  * `<a href="param.jsp?v1=apple&v2=banana">ì´ë™í•˜ê¸°</a>`
  * ë§í¬í´ë¦­ => `http://localhost:8080/project/param.jsp?v1=apple&v2=banana`ë¡œ ì´ë™ë¨

```jsp
<%-- send.jsp --%>
<%@ page language="java" contentType="text/html; charset=UTF-8"
    pageEncoding="UTF-8"%>
<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>Insert title here</title>
</head>
<body>
	<a href="param.jsp?v1=apple&v2=banana">ì´ë™í•˜ê¸°</a>
</body>
</html>
```

```jsp
<%-- param.jsp --%>

<%@ page language="java" contentType="text/html; charset=UTF-8"
    pageEncoding="UTF-8"%>
    
<%
	// í¸ì˜ìƒ jspì— java ì½”ë“œ ì‘ì„±
	request.setCharacterEncoding("utf-8");
	String v1 = request.getParameter("v1");
	System.out.println("v1 : " + v1);	// apple

	String v2 = request.getParameter("v2");
	System.out.println("v2 : " + v2);	// banana
%>
<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>Insert title here</title>
</head>
<body>
í…ŒìŠ¤íŠ¸
</body>
</html>
```

<br>
ì‘ìš©>

<a target="blank" href="https://search.naver.com/search.naver?where=nexearch&sm=top_hty&fbm=0&ie=utf8&query=jsp">jsp ê²€ìƒ‰ê²°ê³¼ë¡œ ì´ë™í•˜ê¸°</a>

=> ì´ë™í•˜ì—¬ URLì„ ë³´ë©´ ê²€ìƒ‰ ê²°ê³¼ í˜ì´ì§€ë¡œ query=jspê°€ ì „ë‹¬ëœ ê²ƒì„ í™•ì¸í•  ìˆ˜ ìˆìŒ

<br>
* íŒŒë¼ë¯¸í„°ê°€ í™•ì •ì ì´ì§€ ì•Šì€ ê²½ìš°(ì…ë ¥ì–‘ì‹ í™œìš©)

```jsp
<%-- send.jsp --%>
<%@ page language="java" contentType="text/html; charset=UTF-8"
    pageEncoding="UTF-8"%>
<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>Insert title here</title>
</head>
<body>
	<!-- 1.ì…ë ¥ ì–‘ì‹ì„ ê°ì‹¸ëŠ” formíƒœê·¸ ì¡´ì¬ -->
	<!-- 2.submitì´ ë°œìƒí•˜ëŠ” ë²„íŠ¼ ìƒì„± -->
	<!-- 3.requestë¥¼ ë°›ì„ ê³³ ì„¤ì •-->
	<!-- 4.ì…ë ¥ì–‘ì‹ì˜ name ì†ì„±ìœ¼ë¡œ keyê°’ ì§€ì • -->

	<form action="./param.jsp" method="get"> 

	v1 : <input type="text" name="v1"><br>
	v2 : <input type="text" name="v2"><br>
	<br>
	<input type="submit" value="ì „ì†¡">
	<!-- <button>ì „ì†¡</button> ìœ¼ë¡œë„ ê°€ëŠ¥ -->
	</form>	
</body>
</html>
```

ê²°ê³¼>

<img src="https://user-images.githubusercontent.com/57750308/148634910-befd95ce-6d86-48b8-af5e-11f534ad366c.png"><br>
`http://localhost:8080/project/param.jsp?v1=apple&v2=banana` ìœ¼ë¡œ ì´ë™ => <br><br>
<img src="https://user-images.githubusercontent.com/57750308/148635046-18c66d55-0fc6-45b4-804a-e9b054742563.png">

<br><br>

**ë³´ë‚´ëŠ” ë°©ì‹ ì„¤ì •(GET, POST)**
* defaultëŠ” GET
* **GET ë°©ì‹**
  * URLì— ì¿¼ë¦¬ìŠ¤íŠ¸ë§ìœ¼ë¡œ ê°’ì„ í¬í•¨í•˜ì—¬ ë³´ë‚´ëŠ” ë°©ì‹
    * <a></a> íƒœê·¸ëŠ” ë¬´ì¡°ê±´ GET ë°©ì‹
  * ì›¹ë¸Œë¼ìš°ì €ì—ì„œì˜ ê¸¸ì´ ì œí•œìœ¼ë¡œ ê°„ì ‘ì ìœ¼ë¡œ ê¸€ì ìˆ˜ ì œí•œì´ ìˆìŒ
  * ìºë¦­í„° ì…‹ì„ ì•Œ ìˆ˜ ì—†ìŒ(ì›¹ë¸Œë¼ìš°ì €ê°€ ì„ì˜ë¡œ ì¸ì½”ë”©)
    * request ë°›ëŠ” ê²½ë¡œì˜ ì½”ë“œ ìƒë‹¨ì—ì„œ ìºë¦­ì…‹ ì§€ì •
    * `request.setCharacterEncoding("utf-8");`
  * ë§í¬ì— íŒŒë¼ë¯¸í„°ê°€ ì§€ì •ë˜ì–´ ë§í¬ ì „ë‹¬ê³¼ ì¦ê²¨ì°¾ê¸° ë“±ë¡ì— ìœ ë¦¬
  * DBì˜ SELECTì™€ ê´€ë ¨
* **POST ë°©ì‹**
  * bodyì— ê°’ì„ ë‹´ì•„ ë³´ë‚´ëŠ” ë°©ì‹(íŒŒë¼ë¯¸í„°ê°€ clientì—ê²Œ ì•ˆ ë³´ì„)
  * ë‚´ìš© í¬ê¸°ì˜ ì œí•œì´ ì—†ìŒ
  * ìºë¦­í„° ì…‹ì„ ì•Œ ìˆ˜ ìˆìŒ
    * bodyì˜ ë°ì´í„°ë¥¼ ì„¤ëª…í•˜ëŠ” headerì˜ content-typeì— íƒ€ì… ëª…ì‹œ
  * ë§í¬ ì „ë‹¬ê³¼ ì¦ê²¨ ì°¾ê¸° ë“±ë¡ì— ë¶ˆë¦¬(ë§í¬ì— ê²€ìƒ‰ ê²°ê³¼ê°€ ì—†ìŒ)
  * DBì˜ INSERT, UPDATEì™€ ê´€ë ¨

<br>
<br><br>

## ë„¤ ê°€ì§€ ì €ì¥ê³µê°„
Life Cycle ìˆœì„œ<br>
**application > session > request > pageContext**<br>
<br>
* ëª¨ë‘ setAttribute, getAttribute ë©”ì†Œë“œ ì œê³µ<br>
* keyì™€ valueë¡œ ê°’ ì €ì¥
* keyì˜ íƒ€ì…ì€ í•­ìƒ String
* valueì˜ íƒ€ì…ì€ í•­ìƒ Object(ë‹¤í˜•ì„±)
* request, sessionì´ ì£¼ë¡œ ì‚¬ìš©ë¨

<br><br>
`cf) getParameter : ì›¹ë¸Œë¼ìš°ì €(client)ì™€ì˜ í†µì‹ ì—ì„œ ê°’ì„ ê°€ì ¸ì˜´`<br>
ã€€`getAttribute : ì„œë²„ ë‚´ì—ì„œ ê°’ì„ ê°€ì ¸ì˜´`<br>
<br>

*ë‘˜ ë‹¤ ì—†ëŠ” ê°’ getí•˜ë©´ exceptionì´ ì•„ë‹Œ ì •ìƒì ìœ¼ë¡œ null ê°’ ë¦¬í„´*

<br><br>

### application
---
Tomcatì´ ê°€ë™ë  ë•Œ 1ê°œê°€ ìƒì„±<br>
ì„œë²„ê°€ êº¼ì§ˆ ë•Œ ì†Œë©¸<br>

```java
application.setAttribute("param1", "application ê°’");

String param1 = (String) application.getAttribute("param1");
System.out.println(param1);	// application ê°’
```

<br><br>

### session
---
* ì›¹ ë¸Œë¼ìš°ì €ë‹¹ í•˜ë‚˜ì˜ ì ‘ì†
  * ì ‘ì†ì´ ìœ ì§€ë  ë•Œê¹Œì§€ ìƒì¡´
* ì„¸ì…˜ ì¢…ë£ŒëŠ” client ì…ì¥ì—ì„œ í•´ë‹¹ ì›¹ ë¸Œë¼ìš°ì €ì˜ ì¢…ë£Œ
  * clientê°€ ë³´ë‚´ëŠ” ì¿ í‚¤ì˜ ì„¸ì…˜IDë¥¼ í†µí•´ ì„¸ì…˜ì„ êµ¬ë¶„
  * ì›¹ ë¸Œë¼ìš°ì € ì¢…ë£Œì‹œ ì¿ í‚¤ ì‚­ì œ -> ì´ì „ ì„¸ì…˜IDë¥¼ ì•Œ ìˆ˜ ì—†ìŒ
* ì„œë²„ì…ì¥ì—ì„œëŠ” client ë¡œê·¸ì•„ì›ƒ ë˜ëŠ” ì¼ì • ì‹œê°„ ë™ì•ˆ ë°˜ì‘ì´ ì—†ìœ¼ë©´ ë¬´íš¨í™”
  * ì •í™•í•œ ì†Œë©¸ ì‹œì  ì•Œ ìˆ˜ ì—†ìŒ
* ë¡œê·¸ì¸ ì •ë³´ ì €ì¥ ë° ì¸ì¦ ì •ë³´ ì €ì¥ì— ì´ìš©(ë¡œê·¸ì¸ ìƒíƒœ ìœ ì§€)
  * `ex. session.getAttribute("isLogin");` => nullì´ë©´ ë¡œê·¸ì¸ ì•ˆ í•œ ê²ƒ

<br><br>

### request
---
* ìš”ì²­ë‹¹ 1ê°œ
* í•˜ë‚˜ì˜ ìš”ì²­ì´ ë“¤ì–´ì˜¤ëŠ” ìˆœê°„ ìƒì„±
* ìš”ì²­ì— ëŒ€í•œ responseê°€ ì™„ë²½í•˜ê²Œ ëë‚˜ëŠ” ìˆœê°„ ì†Œë©¸
  * ìƒëª…ì£¼ê¸°ê°€ ë§¤ìš° ì§§ìŒ
  * ìƒˆë¡œê³ ì¹¨ 100ë²ˆí•˜ë©´ 100ë²ˆ ìƒì„±-ì†Œë©¸
* MVCì—ì„œì˜ í•µì‹¬ ì €ì¥ê³µê°„(forwardingì— ì‚¬ìš©)

<br><br>

### pageContext
---
* í˜ì´ì§€ë‹¹ 1ê°œ
* í•˜ë‚˜ì˜ servlet/jsp(page)ê°€ ì‹¤í–‰ë  ë•Œë§ˆë‹¤ ìƒì„±, ì‹¤í–‰ ëë‚˜ë©´ ì†Œë©¸
* í•˜ë‚˜ì˜ ìš”ì²­ìœ¼ë¡œ ì—¬ëŸ¬ í˜ì´ì§€ê°€ ì—°ë™ë˜ì–´ ì‹¤í–‰ë˜ëŠ” ê²½ìš°
  * request 1ê°œ, pageContextëŠ” ì—¬ëŸ¬ ê°œ

<br><br>
<br>

## íë¦„ì œì–´
<br>
**include**
* action tag(jsp ë¬¸ë²•)ë¥¼ ì‚¬ìš©í•˜ì—¬ ì‹¤í–‰
* includeì˜ ëŒ€ìƒì´ ë˜ëŠ” page ì²˜ìŒë¶€í„° ëê¹Œì§€ ê°€ì ¸ì˜´
  * htmlíŒŒì¼ì´ë¼ë©´ <!DOCTYPE html> ~~</html>ê¹Œì§€ ê°€ì ¸ì˜´
    * htmlì˜ ë¬¸ë²•ì„ íŒŒê´´ì‹œí‚¬ ê°€ëŠ¥ì„±ì´ ìˆìŒ
  * include ëŒ€ìƒì´ ë˜ëŠ” jspì˜ êµ¬ì¡°ë¥¼ ì‹ ì¤‘í•˜ê²Œ ì‘ì„±í•´ì•¼í•¨

```jsp
<%-- dest.jsp --%>
<%@ page language="java" contentType="text/html; charset=UTF-8"
    pageEncoding="UTF-8"%>
<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>Insert title here</title>
</head>
<body>
	<!-- target.jsp íŒŒì¼ì„ dest.jsp íŒŒì¼ë¡œ include -->
	<jsp:include page="./target.jsp"></jsp:include>
	dest ì…ë‹ˆë‹¤.
</body>
</html>
```
```jsp
<%-- target.jsp --%>
<%@ page language="java" contentType="text/html; charset=UTF-8"
    pageEncoding="UTF-8"%>

<div>target ì…ë‹ˆë‹¤.</div>
```

ê²°ê³¼>

<html>
<head>
<meta charset="UTF-8">
<title>Insert title here</title>
</head>
<body>
<div>target ì…ë‹ˆë‹¤.</div>

	dest ì…ë‹ˆë‹¤.
</body>
</html>


<br><br>

### forwardì™€ redirect
---
**forward**
* í•˜ë‚˜ì˜ ìš”ì²­ì— ë‘ ê°œ ì´ìƒì˜ servletì„ ì‹¤í–‰
* ìš”ì²­ì„ ì²˜ë¦¬í•˜ëŠ” servletì´ request ì €ì¥ê³µê°„ì— ê°’ì„ ë‹´ì•„ ë‹¤ë¥¸ servletì—ê²Œ forwarding
* í¬ì›Œë”©ëœ servletì€ getAttribute ë©”ì†Œë“œë¥¼ ì´ìš©í•˜ì—¬ ê°’ì„ êº¼ë‚¼ ìˆ˜ ìˆìŒ
* responseì „ê¹Œì§€ request ì €ì¥ê³µê°„ì— ìˆëŠ” ë°ì´í„° ê³„ì† ì‚¬ìš©ê°€ëŠ¥

<br>
MVC ëª¨ë¸ì—ì„œ business logicì´ ì‹¤í–‰ ê²°ê³¼ë¥¼ request.setAttribute<br>
=> viewë¡œ forward => viewê°€ request.getAttributeí•˜ì—¬ ì‹¤í–‰ ê²°ê³¼ë¥¼ í™”ë©´ êµ¬í˜„í•¨

```jsp
<%-- forward.jsp --%>
<%@ page language="java" contentType="text/html; charset=UTF-8"
    pageEncoding="UTF-8"%>
<%
	// í¸ì˜ìƒ jsp íŒŒì¼ì— java code ì‘ì„±
	String value = "ì•ˆë…•í•˜ì„¸ìš”!!!!"; // ì¶œë ¥ë¼ì•¼ í•  ë°ì´í„°
	request.setAttribute("data", value);
	
	// request ê°ì²´ë¥¼ ì´ìš©í•˜ì—¬ forward
	request.getRequestDispatcher("./target.jsp").forward(request, response);
%>
```
```jsp
<%-- target.jsp --%>
<%@ page language="java" contentType="text/html; charset=UTF-8"
    pageEncoding="UTF-8"%>
<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>target</title>
</head>
<body>
	íƒ€ì¼“ jsp ì…ë‹ˆë‹¤.
	<br>
	ì¶œë ¥ ê²°ê³¼ : ${data }
</body>
</html>
```

forward.jspë¡œ ìš”ì²­ ê²°ê³¼>

<img src="https://user-images.githubusercontent.com/57750308/148637095-07bb4869-496c-4bf5-b911-bf7ab8db9690.png">


<br><br>
**redirect**
* clientì˜ ìš”ì²­ì— ëŒ€í•œ ì‘ë‹µìœ¼ë¡œ redirect ì‘ë‹µì„ ë³´ëƒ„
* clientëŠ” ë°›ì€ redirect ì‘ë‹µì— ë”°ë¼ ë‹¤ë¥¸ ë§í¬ë¡œ ë‹¤ì‹œ request
* ìœ„ ê²½ìš° ì´ ìš”ì²­ì€ 2ë²ˆì´ ë¨

```jsp
<%-- redirect.jsp --%>
<%@ page language="java" contentType="text/html; charset=UTF-8"
    pageEncoding="UTF-8"%>

<%
	// í¸ì˜ìƒ jsp íŒŒì¼ì— java code ì‘ì„±
	String value = "ì•ˆë…•í•˜ì„¸ìš”!!!!"; // ì¶œë ¥ë¼ì•¼ í•  ë°ì´í„°
	request.setAttribute("data", value);

	// redirect(response ê°ì²´ë¥¼ ì´ìš©)
	response.sendRedirect("./target.jsp");
%>
```

redirect.jspë¡œ ìš”ì²­ ê²°ê³¼>

<img src="https://user-images.githubusercontent.com/57750308/148637171-025c39bf-fc30-4d36-90aa-8fb0badee4df.png">

=> redirect ì‘ë‹µì„ ë°›ì€ clientê°€ target.jspë¡œ ì¬ìš”ì²­ì„ í–ˆê¸° ë•Œë¬¸ì— URLì´ target.jspë¡œ ë°”ë€œ<br>
=> redirect ì‘ë‹µìœ¼ë¡œ ì²˜ìŒ request ì €ì¥ê³µê°„ì´ ì†Œë©¸ë˜ì–´ ì¶œë ¥ ê²°ê³¼ ê°’ì€ null

<br><br>
<br>

## Cookie
client ìª½ í•˜ë“œë””ìŠ¤í¬ì— ì €ì¥ë˜ëŠ” reponse ë°›ì€ ê°’<br>
<br>

* sessionê³¼ ê´€ë ¨
  * sessionì— ì €ì¥ì„ ë§ì´ í• ìˆ˜ë¡ ì„œë²„ì˜ RAM ë¶€ì¡±
  * sessionì— ì €ì¥í•˜ê¸°ì—” ì¤‘ìš”ë„ê°€ ë–¨ì–´ì§€ëŠ” ê°’ë“¤ì„ client í•˜ë“œì— ì €ì¥
* clientëŠ” requestí•  ë•Œë§ˆë‹¤ í•´ë‹¹ ì„œë²„ì—ì„œ ìƒì„±ëœ ì¿ í‚¤ë¥¼ ìš”ì²­ê³¼ í•¨ê»˜ ì „ë‹¬í•¨
  * ì¿ í‚¤ëŠ” ê¸°ë³¸ì ìœ¼ë¡œ ì¿ í‚¤ê°€ ìƒì„±ëœ ì„œë²„ë¡œë§Œ ì „ì†¡
  * `request.getCookies()`ë¡œ requestì— ì‹¤ë¦° ì¿ í‚¤ get
* ì›¹ ë¸Œë¼ìš°ì €ê°€ ê´€ë¦¬
  * ì›¹ ë¸Œë¼ìš°ì €ì— ì €ì¥ë˜ë©° ë¸Œë¼ìš°ì € ì¢…ë£Œì‹œ ì‚­ì œ
* ë³´ì•ˆì ìœ¼ë¡œ ê°€ì¹˜ê°€ ë‚®ìŒ
  * client í•˜ë“œì— ì €ì¥í•˜ê¸° ë•Œë¬¸ì— ì–¸ì œë“ ì§€ ë³€ì¡°ê°€ ê°€ëŠ¥
* ì œí•œì‚¬í•­ ì¡´ì¬
  * valueë¡œ ë¬¸ìì—´ë§Œ ì‚¬ìš©
  * ì˜ì–´ë§Œ ê°€ëŠ¥(í•œê¸€ url-encode í•„ìš”)
  * ê¸¸ì´ ì œí•œ

```jsp
<%-- sendCookie.jsp --%>
<%@ page language="java" contentType="text/html; charset=UTF-8"
    pageEncoding="UTF-8"%>

<%
	// í¸ì˜ìƒ JSP íŒŒì¼ì— java code ì‘ì„±
	String value = "10";

	// ì¿ í‚¤ ìƒì„±(ìƒì„±ìë¡œ key, value ë„˜ê¹€), valueëŠ” ë¬¸ìì—´ë§Œ ê°€ëŠ¥
	Cookie c1 = new Cookie("v1", value);

	response.addCookie(c1);	// ì¿ í‚¤ë¥¼ clientê°€ ì €ì¥í•˜ê²Œ ìœ ë„
%>
```
```jsp
<%-- getCookie.jsp --%>
<%@ page language="java" contentType="text/html; charset=UTF-8"
    pageEncoding="UTF-8"%>
    
<%
	// í¸ì˜ìƒ JSP íŒŒì¼ì— java code ì‘ì„±

	// ì¿ í‚¤ ê°’ get(í•˜ë‚˜ë§Œ ëª» ê°€ì ¸ì˜´, ì „ì²´ ë‹¤ ì¶”ì¶œ)
	Cookie[] cookies = request.getCookies();

	if(cookies != null) {
		for(Cookie cookie : cookies) {
			if(cookie.getName().equals("v1")) {	// getName() : ì¿ í‚¤ì˜ í‚¤ ê°’ get
				String cookieValue = cookie.getValue();
				System.out.println("cookie v1 : " + cookieValue);	// "10"
			}
		}
	}
%>
```

=> ì›¹ë¸Œë¼ìš°ì € ì¢…ë£Œí•œ ë’¤ ë‹¤ì‹œ getCookie.jsp ìš”ì²­í•˜ë©´ "v1" ì¿ í‚¤ ê°’ ì—†ìŒ<br>
<br>
**ì¿ í‚¤ ì†Œë©¸ì‹œì  ì§€ì •**
```jsp
<%@ page language="java" contentType="text/html; charset=UTF-8"
    pageEncoding="UTF-8"%>
    
<%
	// í¸ì˜ìƒ JSPíŒŒì¼ì— java code ì‘ì„±

	Cookie c1 = new Cookie("qqq", "1111");
	c1.setMaxAge(60*3);	// ì¿ í‚¤ì˜ ì†Œë©¸ì‹œì  ì§€ì •, ì´ˆ ë‹¨ìœ„(3ë¶„ í›„)
	response.addCookie(c1);
%>
```

<br><br>
### Session ID
---
HTTP í†µì‹ ì€ ì ‘ì† ìœ ì§€ê°€ ì•„ë‹Œ í•œ ë²ˆ ìš”ì²­í•  ë•Œë§ˆë‹¤ ì ‘ì† ì—°ê²°-í•´ì œë¥¼ ë°˜ë³µ<br>
=> ë§¤ë²ˆ ìƒˆë¡œ ì—°ê²°-í•´ì œ í•˜ë‹¤ë³´ë‹ˆ ëˆ„ê°€ ì ‘ì†í•œê±´ì§€ ì–´ëŠ ì„¸ì…˜ì¸ì§€ ëª¨ë¦„
=> ì¿ í‚¤ë¥¼ í†µí•œ Session IDë¡œ ì„¸ì…˜ ì‹ë³„
<br>
1. requestê°€ ë“¤ì–´ì˜¤ë©´ ì„œë²„ëŠ” requestì— ì¿ í‚¤ê°€ ìˆëŠ”ì§€ í™•ì¸
2. ì—†ìœ¼ë©´ sessionì„ ìƒˆë¡œ ìƒì„±
3. ì¿ í‚¤ì— Session ê³ ìœ ì˜ IDë¥¼ ë„£ì–´ response
4. ê·¸ í›„ clientëŠ” requestí•  ë•Œë§ˆë‹¤ Session IDê°€ í¬í•¨ëœ ì¿ í‚¤ë¥¼ ì‹¤ì–´ ì„œë²„ì— request
5. requestë¥¼ ë°›ì€ ì„œë²„ëŠ” ì¿ í‚¤ì˜ Session IDë¡œ ì„¸ì…˜ì„ êµ¬ë¶„
6. ì¼ì • ì‹œê°„ë™ì•ˆ ë³¸ì¸ì˜ Session IDê°€ ë‹´ê¸´ ìš”ì²­ì„ ë°›ì§€ ëª»í•œ ì„¸ì…˜ ê°ì²´ëŠ” ì†Œë©¸ë¨

<br>
> Tomcatì˜ Session IDëŠ” JSESSIONIDë¡œ ì €ì¥ë¨

<br>
<br><br>

## EL(Expression Language)
ë„¤ ê°€ì§€ ì €ì¥ê³µê°„ì— ì €ì¥ëœ ê°’ì„ ê°€ì ¸ì˜¬ ë•Œ ì‚¬ìš©<br>
`${key }`<br>
<br>

`request.setAttribute("x1", "yes");`<br>
`request.setAttribute("x2", "no");`<br>
`request.setAttribute("x3", null);`
```jsp
<%@ page language="java" contentType="text/html; charset=UTF-8"
    pageEncoding="UTF-8"%>
<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>Insert title here</title>
</head>
<body>
	${x1 }<br>
	${x2 }<br>
	${x3 }<br>
	${x4 }	<!-- ì—†ëŠ” ê°’ --!>
</body>
</html>
```

ê²°ê³¼>

<img src="https://user-images.githubusercontent.com/57750308/148638399-23ab82ec-b0ca-46cc-8924-6e4273be1204.png">

=> ì—†ëŠ” ê°’ & null ê°’ì„ ì¶œë ¥í•˜ë ¤í•˜ë©´ ì•„ë¬´ ê°’ë„ ì¶œë ¥í•˜ì§€ ì•ŠìŒ

<br><br>
**ì €ì¥ê³µê°„ ìš°ì„  íƒìƒ‰ ìˆœìœ„ê°€ ìˆìŒ**<br>
pageContext -> request -> session -> application ìˆœìœ¼ë¡œ ê°’ì„ ì°¾ìŒ<br>
<br>
`pageContext.setAttribute("v1", 1111);`<br>
`request.setAttribute("v1", 2222);`<br>
`session.setAttribute("v1", 3333);`<br>
`application.setAttribute("v1", 4444);`
```jsp
<%@ page language="java" contentType="text/html; charset=UTF-8"
    pageEncoding="UTF-8"%>
<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>Insert title here</title>
</head>
<body>
	${v1 }<br>
	${requestScope.v1 }<br>	<%-- requestì˜ ì €ì¥ê³µê°„ì—ì„œ íƒìƒ‰í•˜ëŠ” ê²ƒ ëª…ì‹œ--%>
</body>
</html>
```

ê²°ê³¼>

<img src="https://user-images.githubusercontent.com/57750308/148638525-e9aa8b92-5a8e-4fe4-bf98-550e76c19afa.png">

=> ê·¸ëƒ¥ v1ì€ ìš°ì„ ìˆœìœ„ì— ë”°ë¼ pageContextì˜ ê°’ì„ ì¶”ì¶œ<br>
=> requestScopeë¡œ ì ‘ê·¼í–ˆì„ ê²½ìš°ì—” requestì˜ ê°’ì„ ì¶”ì¶œ<br>

<br>
<br><br>

**ê°’ì´ ê°ì²´ì¼ ê²½ìš° . ìœ¼ë¡œ ê°ì²´ ë‚´ë¶€ ê°’ ì ‘ê·¼ ê°€ëŠ¥**

* ì²« ë²ˆì§¸ í‚¤ì›Œë“œëŠ” ë„¤ ê°€ì§€ ì €ì¥ê³µê°„ì—ì„œ ê°’ì„ ì¶”ì¶œ
* ì¶”ì¶œí•œ ê°’ì´ ê°ì²´(instance)ì´ê³  ë‘ ë²ˆì§¸ í‚¤ì›Œë“œê°€ ì¡´ì¬í•  ê²½ìš°
  * í•´ë‹¹ í•„ë“œì˜ getterë¥¼ í˜¸ì¶œí•˜ì—¬ ë¦¬í„´ëœ ê²°ê³¼ë¥¼ ì¶œë ¥í•¨
  * `ex. v1.name => v1.getName()` í˜¸ì¶œ
  * ìë°”ì˜ getter ëª…ëª…ë²•ì— ì–´ê¸‹ë‚˜ëŠ” getterëŠ” í˜¸ì¶œ ëª» í•¨
* `${v1.getName() }`ë„ ì‘ë™ë¨
  * EL ë‚´ë¶€ì—ì„œ ë©”ì†Œë“œ ì‚¬ìš© ê°€ëŠ¥
  * ë©”ì†Œë“œì˜ ë¦¬í„´ê°’ì´ ì¶œë ¥ë¨

<br>
`StudentVo vo = new StudentVo("ì§±êµ¬", 5, 37);	// name, age, score`<br>
`request.setAttribute("v1", vo);`

```jsp
<%@ page language="java" contentType="text/html; charset=UTF-8"
    pageEncoding="UTF-8"%>
<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>Insert title here</title>
</head>
<body>
	${v1.name }<br>
	${v1.age }<br>
	${v1.score }<br>
</body>
</html>
```

ê²°ê³¼>

<body>
	ì§±êµ¬<br>
	5<br>
	37<br>
</body>

<br>

<br>

* ì²« ë²ˆì§¸ í‚¤ì›Œë“œëŠ” ë„¤ ê°€ì§€ ì €ì¥ê³µê°„ì—ì„œ ê°’ì„ ë½‘ì•„ì˜´
* ì¶”ì¶œí•œ ê°’ì´ mapì´ê³  ë‘ ë²ˆì§¸ í‚¤ì›Œë“œê°€ ì¡´ì¬
  * ë‘ ë²ˆì§¸ í‚¤ì›Œë“œë¥¼ í‚¤ë¡œ ì‚¬ìš©í•˜ì—¬ getì„ í˜¸ì¶œí•˜ê³  ì¶œë ¥
  * `${xx.get("v1") }` ìœ¼ë¡œë„ ì‚¬ìš© ê°€ëŠ¥

```java
HashMap<String, Object> map = new HashMap<>();
	
map.put("v1", "ì•ˆë…•í•˜ì„¸ìš”");
map.put("v2", "111");
map.put("v3", "222");
	
StudentVo st1 = new StudentVo("ë² ì¸", 40, 77);		// name, age, score
map.put("v4", st1);
	
request.setAttribute("xx", map);
```
```jsp
<%@ page language="java" contentType="text/html; charset=UTF-8"
    pageEncoding="UTF-8"%>
<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>Insert title here</title>
</head>
<body>
	${xx.v1 }<br>
	${xx.v2 }<br>
	${xx.v3 }<br>
	${xx.v4.name }<br>
	${xx.v4.age }<br>
	${xx.v4.score }<br>
</body>
</html>
```

ê²°ê³¼>

<body>
	ì•ˆë…•í•˜ì„¸ìš”<br>
	111<br>
	222<br>
	ë² ì¸<br>
	40<br>
	77<br>
</body>

<br>


<br>
<br>

**EL ë‚´ì—ì„œ ì—°ì‚°ì ì‚¬ìš© ê°€ëŠ¥**
* `+, -, *, /, %, <, >, ==, !=, >=, <=` ë“±
* ë¬¸ìì™€ ìˆ«ìì˜ ë¹„êµì—°ì‚°ì„ í•˜ë©´ ë¬¸ìë¥¼ ìˆ«ìë¡œ ì¹˜í™˜
* ë¬¸ìë¼ë¦¬ ë™ë“±ë¹„êµì—°ì‚°í•  ë•Œ `==` ì‚¬ìš©ê°€ëŠ¥
  * ë‚´ë¶€ì—ì„œ `equals()`ë¡œ ì¹˜í™˜í•´ì¤Œ
* ì €ì¥ê³µê°„ì— í•´ë‹¹ í‚¤ì˜ ì¡´ì¬ ì—¬ë¶€
  * `${empty(v5) }`
    * ì—†ê±°ë‚˜ v5ì˜ ê°’ì´ nullì´ë©´ true, ìˆìœ¼ë©´ false
  * `${!empty(v5) }`
    * ìˆìœ¼ë©´ true, ì—†ê±°ë‚˜ v5ì˜ ê°’ì´ nullì´ë©´ false

<br><br>
<br>

## JSTL(JSP Standard Tag Library)
HTML ì†ŒìŠ¤ ë‚´ì—ì„œ ifë¬¸/ë°˜ë³µë¬¸ ì‚¬ìš©í•  ìˆ˜ ìˆëŠ” íƒœê·¸<br>
ë‹¤ìš´ë¡œë“œí•˜ì—¬ ì„¸íŒ… í•„ìš”(ì™¸ë¶€ library)<br>
<br>
<br>

### ifë¬¸
---
**c:ifë¬¸(elseê°€ ì—†ìŒ, ifë§Œ ì¡´ì¬í•˜ëŠ” ë‹¨ì¼íƒœê·¸)**<br>
<br>

`int a = 30;`<br>
`request.setAttribute("v1", a);`
```jsp
<%@ page language="java" contentType="text/html; charset=UTF-8"
    pageEncoding="UTF-8"%>
<%--prefixëŠ” cë¡œ ê³ ì • --%>
<%@ taglib prefix="c" uri="http://java.sun.com/jsp/jstl/core" %>
 
<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>Insert title here</title>
</head>
<body>
	<!-- í° ë”°ì˜´í‘œì™€ $ëŒ€ê´„í˜¸ ì‚¬ì´ëŠ” ì ˆëŒ€ ê³µë°±ì—†ì´ í•  ê²ƒ -->
	<c:if test="${v1 > 50 }">
		50ë³´ë‹¤ í½ë‹ˆë‹¤.
	</c:if>
	
	<c:if test="${v1 <= 50 }">
		50ë³´ë‹¤ ì‘ìŠµë‹ˆë‹¤.
	</c:if>
</body>
</html>
```

=> 50ë³´ë‹¤ ì‘ìŠµë‹ˆë‹¤.<br>
<br>
<br>
**c:choose~c:when~c:otherwiseë¬¸(if~else if~else if~...~else ë¬¸)**<br>
<br>
`int a = 12;`<br>
`request.setAttribute("v1", a);`
```jsp
<%@ page language="java" contentType="text/html; charset=UTF-8"
    pageEncoding="UTF-8"%>

<%@ taglib prefix="c" uri="http://java.sun.com/jsp/jstl/core" %>

<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>Insert title here</title>
</head>
<body>
	<c:choose>
		<c:when test="${v1 < 10 }">
			<div>10ë³´ë‹¤ ì‘ìŠµë‹ˆë‹¤.</div>
		</c:when>
		<c:when test="${v1 < 20 }">
			20ë³´ë‹¤ ì‘ìŠµë‹ˆë‹¤.
		</c:when>
		<c:otherwise>	<%-- else --%>
			ê·¸ ì´ì™¸ ê²½ìš°ì…ë‹ˆë‹¤.
		</c:otherwise>
	</c:choose>
</body>
</html>
```

=> 20ë³´ë‹¤ ì‘ìŠµë‹ˆë‹¤.

<br><br>
<br>
### forë¬¸
---
**c:forEach(í–¥ìƒëœ forë¬¸)**<br>

`<c:forEach items="${key }" var="varName">`<br>
* items: ë°˜ë³µí•  ëŒ€ìƒì˜ í‚¤ ê°’
* var: ê°’ì´ ë‹´ê¸¸ ë³€ìˆ˜
  * ë‚´ë¶€ì ìœ¼ë¡œ pagecontextì— varì„ keyë¡œ valueë¡œ itemsì˜ ì›ì†Œ 1ê°œê°€ setAttributeë¨
  * í•´ë‹¹ var ë³€ìˆ˜ëŠ” forEachë¬¸ ì•ˆì—ì„œë§Œ ì‚¬ìš©ê°€ëŠ¥, forEachë¬¸ ë°–ì—ì„œ ì‚¬ìš© ë¶ˆê°€

```java
ArrayList<StudentVo> list = new ArrayList<>();
	
list.add(new StudentVo("í•œì¡°1", 30, 90));	// name, age, score
list.add(new StudentVo("í•œì¡°2", 30, 90));
list.add(new StudentVo("í•œì¡°3", 30, 90));
list.add(new StudentVo("í•œì¡°4", 30, 90));
list.add(new StudentVo("í•œì¡°5", 30, 90));
	
request.setAttribute("studentList", list);
```
```jsp
<%@ page language="java" contentType="text/html; charset=UTF-8"
    pageEncoding="UTF-8"%>
<%@taglib prefix="c" uri="http://java.sun.com/jsp/jstl/core" %>

<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>Insert title here</title>
</head>
<body>
	<c:forEach items="${studentList }" var="student">
		${student.name }<br>
	</c:forEach>
</body>
</html>
```

ê²°ê³¼> í•œì¡°1~í•œì¡°5ê¹Œì§€ ì¶œë ¥

<br>
<br><br>
**c:forEach(ì¼ë°˜ forë¬¸)**<br>

`<c:forEach begin="startNum" end="endNum" var="varName">`

```jsp
<%@ page language="java" contentType="text/html; charset=UTF-8"
    pageEncoding="UTF-8"%>
<%@ taglib prefix="c" uri="http://java.sun.com/jsp/jstl/core" %>

<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>Insert title here</title>
</head>
<body>
	<c:forEach begin="1" end="10" var="qqq">
		${qqq }<br>
	</c:forEach>
</body>
</html>
```

ê²°ê³¼> 1~10ê¹Œì§€ ìˆœì„œëŒ€ë¡œ ì¶œë ¥

<br>
<br><br>

# Spring
---
ìë°” í”Œë«í¼ì„ ìœ„í•œ í”„ë ˆì„ì›Œí¬ë¡œ xmlì„¤ì • íŒŒì¼ì„ í†µí•´ ëª¨ë“ˆ ì¡°ë¦½ì„ í¸í•˜ê²Œ í•  ìˆ˜ ìˆìŒ<br>
ëª¨ë“ˆ êµì²´ê°€ ìë°”ì½”ë“œê°€ ì•„ë‹Œ xml íŒŒì¼ë¡œ ì´ë£¨ì–´ì§<br>
<br>
**ìŠ¤í”„ë§ í”„ë ˆì„ì›Œí¬ì˜ í•µì‹¬**
* **Container**
  * í´ë˜ìŠ¤ì˜ instanceë¥¼ ë‹´ì•„ ê´€ë¦¬
  * xml íŒŒì¼ì„ í†µí•´ Container ì„¤ì •(ì˜ì¡´ ê²°í•©)/ê°€ë™
    * xmlíŒŒì¼ì— ë”°ë¼ íŠ¹ì • í´ë˜ìŠ¤ì˜ ì¸ìŠ¤í„´ìŠ¤ë¥¼ ìƒì„± ë° ì˜ì¡´ì„± ì£¼ì…
    * ì½”ë“œìƒ ê²°í•©ì€ ì—†ì§€ë§Œ ì‹¤ì œ ë™ì‘í•  ë•Œ ê²°í•©ì´ ë˜ì–´ ìˆìŒ
* **IoC(Inversion of Control)**
  * ì œì–´ì˜ ì—­í–‰
  * ì–´ë–¤ ëª¨ë“ˆì´ ì‚¬ìš©í•  ëª¨ë“ˆì„ ê°œë°œìê°€ ê²°ì •í•˜ëŠ” ê²ƒì´ ì•„ë‹Œ ë‹¤ë¥¸ ëª¨ë“ˆì—ê²Œ ì„ íƒê¶Œì„ ë„˜ê²¨ì¤Œ
* **DI(Dependency Injection)**
  * ì˜ì¡´ì„± ì£¼ì…, IoCì˜ í•œ ì¢…ë¥˜

<br><br>
## bean íƒœê·¸ë¡œ ì„¤ì •
<br>
**SamsunTV.java**

```java
package polymorphism;

public class SamsungTV implements TV {
	private Speaker speaker;
	
	public SamsungTV() {
		System.out.println("Samsung TV ìƒì„±ë¨1");
	}
	
	public void setSpeaker(Speaker speaker) {
		this.speaker = speaker;
	}
	
	public void powerOn() {
		System.out.println("ì‚¼ì„± TV --- ì „ì›ì„ ì¼ ë‹¤.");
	}

	public void volumeUp() {
		speaker.volumeUp();
	}

	public void volumeDown() {
		speaker.volumeDown();
	}

	public void powerOff() {
		System.out.println("ì‚¼ì„± TV --- ì „ì›ì„ ëˆë‹¤.");
	}
}
```

<br>
**test.xml**

```xml
<?xml version="1.0" encoding="UTF-8"?>
<beans xmlns="http://www.springframework.org/schema/beans"
	xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
	xsi:schemaLocation="http://www.springframework.org/schema/beans http://www.springframework.org/schema/beans/spring-beans.xsd">

	<!-- spring framework container ì„¤ì • íŒŒì¼ -->
	
	<!-- bean/beans: instance/instances ìƒì„± -->
	<!-- containerê°€ ê°€ë™ë˜ë©´ì„œ SamsungTV/LgTV instanceê°€ ìƒì„±ì´ ë¨ -->
	<!-- idëŠ” ì¤‘ë³µ ë¶ˆê°€ -->

	<bean id="tv" class="polymorphism.SamsungTV">
		<property name="speaker" ref="sonySpeaker"></property>	<!-- DI: setter, setSpeaker() í˜¸ì¶œ -->
	</bean>	
	<!-- <bean id="tv" class="polymorphism.LgTV"></bean> -->

	<bean id="sonySpeaker" class="polymorphism.SonySpeaker"></bean>
	<bean id="appleSpeaker" class="polymorphism.AppleSpeaker"></bean>
</beans>
```

<br>
**TVUser.java**

```java
package polymorphism;

import org.springframework.context.support.GenericXmlApplicationContext;

public class TVUser {
	public static void main(String[] args) {
		
		// test.xmlì„ loadí•˜ì—¬ ì»¨í…Œì´ë„ˆ ê°€ë™
		GenericXmlApplicationContext container = 
				new GenericXmlApplicationContext("test.xml");
		
		// Dependency Lookup(idë¡œ ê²€ìƒ‰)
		TV tv = (TV) container.getBean("tv");
		
		tv.powerOn();	// Samsung TV --- ì „ì›ì„ ì¼ ë‹¤.
		tv.volumeUp();	// ì†Œë‹ˆ ìŠ¤í”¼ì»¤ --- ë³¼ë¥¨ì„ ì˜¬ë¦°ë‹¤.
		tv.volumeDown(); // ì†Œë‹ˆ ìŠ¤í”¼ì»¤ --- ë³¼ë¥¨ì„ ë‚´ë¦°ë‹¤.
		tv.powerOff();	// Samsung TV --- ì „ì›ì„ ëˆë‹¤.
	}
}
```

<br>
<br>

## annotation ì„¤ì •

<br>
**testAnnotation.xml**

```xml
<?xml version="1.0" encoding="UTF-8"?>
<beans xmlns="http://www.springframework.org/schema/beans"
	xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
	xmlns:context="http://www.springframework.org/schema/context"
	xsi:schemaLocation="http://www.springframework.org/schema/beans http://www.springframework.org/schema/beans/spring-beans.xsd
		http://www.springframework.org/schema/context http://www.springframework.org/schema/context/spring-context-3.1.xsd">

	<!-- Annotation ì„¤ì •ë²• -->
	<!-- í•µì‹¬ì€ ë‘ ê°€ì§€ : bean(instance) ë“±ë¡ê³¼ ì˜ì¡´ ì„¤ì • -->
	
	<!-- polymorphism íŒ¨í‚¤ì§€ì˜ ëª¨ë“  í•˜ìœ„ í´ë˜ìŠ¤ ì¡°ì‚¬í•˜ì—¬
	     íŠ¹ì • annotationì´ ë¶™ì–´ìˆëŠ” í´ë˜ìŠ¤ì˜ instance ìƒì„±
	     ì—¬ê¸°ì„œëŠ” component-scanì´ë¼ => @Component -->
	<context:component-scan base-package="polymorphism"></context:component-scan>

</beans>
```

<br>
**AppleSpeaker.java**

```java
package polymorphism;

import org.springframework.stereotype.Component;

@Component
public class AppleSpeaker implements Speaker {
	
	public AppleSpeaker() {
		System.out.println("ì• í”Œ ìŠ¤í”¼ì»¤ ìƒì„±ë¨1");
	}
	
	public void volumeUp() {
		System.out.println("ì• í”Œ ìŠ¤í”¼ì»¤ --- ë³¼ë¥¨ì„ ì˜¬ë¦°ë‹¤.");
	}

	public void volumeDown() {
		System.out.println("ì• í”Œ ìŠ¤í”¼ì»¤ --- ë³¼ë¥¨ì„ ë‚´ë¦°ë‹¤.");
	}
}
```

<br>
**LgTV.java**

```java
package polymorphism;

import org.springframework.beans.factory.annotation.Autowired;
import org.springframework.stereotype.Component;

// TVUser.java ì—ì„œ getBean("tv")ë¡œ ì°¾ì•„ì˜¤ê¸° ë•Œë¬¸ì— ID ì„¤ì •í•´ë‘ 
@Component("tv")
public class LgTV implements TV {
	@Autowired	// DI(setter ì•ˆ ë§Œë“¤ì–´ë„ ë¨, AppleSpeakerê°€ ì£¼ì…ë¨)
	private Speaker speaker;
	
	public LgTV() {
		System.out.println("LG TV ìƒì„±ë¨1");
	}

	public void powerOn() {
		System.out.println("LG TV --- ì „ì›ì„ ì¼ ë‹¤.");
	}

	public void volumeUp() {
		speaker.volumeUp();	// ì• í”Œ ìŠ¤í”¼ì»¤ --- ë³¼ë¥¨ì„ ì˜¬ë¦°ë‹¤.
	}

	public void volumeDown() {
		speaker.volumeDown();	// ì• í”Œ ìŠ¤í”¼ì»¤ --- ë³¼ë¥¨ì„ ë‚´ë¦°ë‹¤.
	}

	public void powerOff() {
		System.out.println("LG TV --- ì „ì›ì„ ëˆë‹¤.");
	}
}
```

<br>
<br>
**@Autowired**
* ì»¨í…Œì´ë„ˆ ë‚´ì—ì„œ í•´ë‹¹ íƒ€ì…ì˜ instanceê°€ ìˆë‹¤ë©´ ì£¼ì…
* ì—†ê±°ë‚˜ í•´ë‹¹ íƒ€ì…ì˜ instanceê°€ ì—¬ëŸ¬ ê°œ ì¡´ì¬í•œë‹¤ë©´ ì˜ˆì™¸ ë°œìƒ
* id ì§€ì •í•´ì„œ ë”± í•˜ë‚˜ íŠ¹ì •í•˜ëŠ” ê²ƒë„ ê°€ëŠ¥í•˜ì§€ë§Œ ì˜ ì‚¬ìš©í•˜ì§€ ì•ŠìŒ

<br><br>
**Containerì— ë“±ë¡í•  ë• @Component ë¶™ì´ê³  ì¡°ë¦½í•  ë• @Autowired**<br>
<br>
ì›¹ í”„ë¡œê·¸ë¨ì—ì„  @Componentë³´ë‹¨ Componentë¥¼ ìƒì†ë°›ì€ 3ê°€ì§€ì˜ annotationì„ ì£¼ë¡œ ì‚¬ìš©<br>
* @Controller - MVC ì»¨íŠ¸ë¡¤ëŸ¬
* @Service - MVC Model(ë¹„ì¦ˆë‹ˆìŠ¤ ë¡œì§)
* @Repository - DBì—°ë™ ê°ì²´(ì˜ ì‚¬ìš© ì•ˆ í•¨, Mybatisë¡œ ëŒ€ì²´)

<br>
<br><br>
